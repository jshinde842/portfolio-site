<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Jay Shinde's Site</title>
        <meta name="Jay Shinde's Site - Experiment" content="Experiment">
        <link rel="stylesheet" href="styles.css">
        <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet"> 
    </head>

    <script type="text/javascript" src="/assets/DOMPurify/dist/purify.min.js"></script>

    <body>
        <header>
            <nav>
                <h1><a href="/index.html">Jay Shinde</a></h1>
                <ul class="navigation">
                    <li><a href="/index.html#about" class="nav-link">About Me</a></li>
                    <li><a href="/index.html#edu" class="nav-link">Education</a></li>
                    <li><a href="/index.html#exp" class="nav-link">Experience</a></li>
                    <li><a href="/index.html#skills" class="nav-link">Skills</a></li>
                    <li><a href="/index.html#proj" class="nav-link">Projects</a></li>
                    <li><a href="/contact.html" class="nav-link">Contact</a></li>
                </ul>
                <button class="burger-menu" id="burger-menu">
                    <ion-icon class="bars" name="menu-outline"></ion-icon>
                </button>
            </nav>
        </header>

        <main>
            <button id="alert-button" type="button">Alert</button>
            <button id="confirmed-button" type="button">Confirm </button>
            <button id="prompt-button" type="button">Prompt</button>
            <button id="promptSafe-button" type="button">A Safer Prompt</button>
            <p id="output"></p>

            <script>

                let confirmed = false
                let userEntry = null

                var alertBtn = document.getElementById("alert-button")
                var confirmBtn = document.getElementById("confirmed-button")
                var promptBtn = document.getElementById("prompt-button")
                var promptSafeBtn = document.getElementById("promptSafe-button")

                alertBtn.addEventListener('click', showAlert)
                confirmBtn.addEventListener('click', showConfirm)
                promptBtn.addEventListener('click', showPrompt)
                promptSafeBtn.addEventListener('click', showPromptSafe)

                function showAlert(){
                    alert("This is an Alert!!!")
                }
                function showPrompt(){
                    userEntry = prompt("Enter Something:")
                }
                function showConfirm(){
                    if (confirm("Confirm") == true) {
                        if(userEntry != null && userEntry != ""){
                          document.getElementById("output").innerHTML = "The value returned by the confirm method is : " + userEntry  
                        }
                    }
                }
                function showPromptSafe(){
                    dirtyEntry = prompt("Enter Something:")
                    userEntry = DOMPurify.sanitize(dirtyEntry, { USE_PROFILES: { html: true } })
                }   
            </script>

            <hr>

            <dialog id="favDialog">
                <form method="dialog">
                  <p><label>Enter Something:
                    <form class="inputClass">
                        <label for="input"></label><br>
                        <input type="text" id="input5" name="input"><br>
                    </form>
                  </label></p>
                  <div>
                    <button id="cancelBtn" value="cancel">Cancel</button>
                    <!--<button id="confirmBtn" value="default">Confirm</button>-->
                    <input id="confirmBtn" type="submit" value="Confirm" formmethod="dialog">
                    
                  </div>
                </form>
              </dialog>
              <p>
                <button id="updateDetails">Click Me for a Custom Dialog</button>
              </p>
              <p id="out"></p>

            <script type="module">
                const updateButton = document.getElementById('updateDetails')
                const favDialog = document.getElementById('favDialog')
                const confirmBtn = favDialog.querySelector('#confirmBtn')
                const cancelBtn = favDialog.querySelector('#cancelBtn')
                var userEnt;
                var dirtyEnt;

                confirmBtn.addEventListener('click', () => {
                    dirtyEnt = document.getElementById("input5").value
                    userEnt = DOMPurify.sanitize(dirtyEnt, { USE_PROFILES: { html: true } })
                    document.getElementById("out").innerHTML = userEnt;
                    
                    favDialog.close()
                });
                cancelBtn.addEventListener('click', () => {
                    favDialog.close()
                });
                updateButton.addEventListener('click', () => {
                if (typeof favDialog.showModal === "function") {
                    favDialog.showModal()
                }
                });
            </script>

        </main>
        <script type="text/javascript" src="main.js"></script>
        <footer>

        </footer>
    </body>
</html>