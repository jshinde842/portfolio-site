<!DOCTYPE html>
<html lang="en">
<head>
    <title>Jay Shinde's Site</title>
    <meta name="Jay Shinde's Site" content="Overview of Jay Shinde">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet"> 
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6B8NF6BL7H"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-6B8NF6BL7H');
    </script>
</head>
<script type="text/javascript" src="/assets/DOMPurify/src/purify.js"></script>

<script src="https://platform.linkedin.com/badges/js/profile.js" async defer type="text/javascript"></script>

<body> 
    <header>
        <nav>
            <h1><a href="/index.html">Jay Shinde</a></h1>
            <ul class="navigation">
                <li><a href="/index.html#about" class="nav-link">About Me</a></li>
                <li><a href="/index.html#edu" class="nav-link">Education</a></li>
                <li><a href="/index.html#exp" class="nav-link">Experience</a></li>
                <li><a href="/index.html#skills" class="nav-link">Skills</a></li>
                <li><a href="/index.html#proj" class="nav-link">Projects</a></li>
                <li><a href="/contact.html" class="nav-link">Contact</a></li>
                <li><a href="/methodtest.html" class="nav-link">Method Tests</a></li>
                <li><a href="/webcomponents.html" class="nav-link">Web Component</a></li>
            </ul>
            <button class="burger-menu" id="burger-menu">
                <ion-icon class="bars" name="menu-outline"></ion-icon>
            </button>
        </nav>
    </header>

    <main>
        <h1>Ahoy Custom Elements Below</h1>
        <hr>

        <!-- what happens with no JS? -->

        <script type="module">
            /*
            CSS use to help WCs + showing basic ideas of graceful degradation
            TODO: add in a pulser script in CSS to show loader
            TODO: use a setTimeout to register the component to simulate a slow load
            TODO: CSS to transition out
        ​
            Starting to point at the possibility of progressive enhancement even with JS heavy ideas
            TODO: use the slot element to show its use
            TODO: explore the use of is attribute and extending other element types
            TODO: Reflect state into attributes esp data- ones like data-count
        ​
            Making sure to address more complexity with WCs and understand element lifecycle
            TODO: Add an attribute and watch it for changes ex: color="red"
            TODO: use template strings or <template> to show a different creational pattern
            */
            class ButtonCount extends HTMLElement {

                //<style> output {color: red;} button {background: green;} </style>
                constructor() {
                    super();

                    // multiple ways we could do things from direct DOM methods here, to template tags you clone, to template strings you instantiate - all have their place, but this is direct and easy

                    // Create a button element
                    let btn = document.createElement('button');
                    btn.innerHTML = 'Times Clicked : ';

                    // Idea: replace the setting above of the string with the slot text
                    // then if we could just extend the button we could probably drop that too

                    // Create an output to hold the count
                    let count = document.createElement('output');

                    count.textContent = 0;

                    btn.append(count);

                    // add the slot in
                    let slot = document.createElement('slot');
                    btn.append(slot);

                    // Update the count when the button is clicked
                    btn.addEventListener('click', () => {
                        let currVal = Number(count.textContent);
                        count.textContent = currVal + 1;
                    });

                    // Attach and open up shadow tree and add the button to it
                    this.attachShadow({ mode: 'open' });
                    this.shadowRoot.append(btn);
                    console.log("BUTTON")
                }
            }

            // Define the custom element in the registry
            customElements.define('button-count', ButtonCount);
            
        </script>
        <button-count></button-count>
    </main>

    <hr>
    <footer>
        <p style="text-align: center;">Created by Jay Shinde 2022</p>
    </footer>
    <script type="text/javascript" src="main.js"></script>
</body>

</html>